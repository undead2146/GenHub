<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="using:GenHub.Features.AppUpdate.Views"
        xmlns:vm="using:GenHub.Features.AppUpdate.ViewModels"
        x:Class="GenHub.Features.AppUpdate.Views.UpdateNotificationWindow"
        Width="1200" Height="800"
        MinWidth="700" MinHeight="520"
        Title="GenHub Updates"
        Icon="/Assets/Icons/generalshub-icon.png"
        WindowStartupLocation="CenterScreen"
        SystemDecorations="BorderOnly"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="-1"
        CanResize="True"
        x:DataType="vm:UpdateNotificationViewModel">

    <Window.Styles>
        <Style Selector="Grid.TitleBarArea">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Height" Value="40"/>
        </Style>
    </Window.Styles>

    <Grid>
        <!-- Background with corner radius -->
        <Border CornerRadius="12"
                BorderThickness="1"
                BoxShadow="0 8 32 0 #60000000">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                    <GradientStop Color="#7C4DFF" Offset="0" />
                    <GradientStop Color="#E040FB" Offset="1" />
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.Background>
                <SolidColorBrush Color="#101010" Opacity="0.85" />
            </Border.Background>
        </Border>

        <!-- Main content -->
        <Grid RowDefinitions="Auto,*,Auto">
            <!-- Custom title bar -->
            <Grid Grid.Row="0" Height="40" Margin="8,8,8,0"
                  ColumnDefinitions="Auto,*,Auto"
                  Classes="TitleBarArea"
                  x:Name="TitleBarGrid"
                  PointerPressed="TitleBar_PointerPressed">
                <!-- App icon and title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <!-- App icon  -->
                    <Image Source="/Assets/Icons/generalshub-icon.png"
                           Width="28" Height="28"
                           Margin="8,0,0,0" />
                    <TextBlock Text="GenHub Updates"
                              VerticalAlignment="Center"
                              FontSize="16" FontWeight="SemiBold"
                              Foreground="White" />
                </StackPanel>

                <!-- Window Controls-->
                <Button Grid.Column="2"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center"
                        Background="Transparent"
                        Foreground="#CCCCCC"
                        BorderThickness="0"
                        Width="32" Height="32"
                        AutomationProperties.Name="Close"
                        AutomationProperties.AccessKey="Alt+F4"
                        ToolTip.Tip="Close window"
                        Click="CloseButton_Click">
                    <Viewbox Width="12" Height="12"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center">
                        <Path Data="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
                              Fill="{Binding $parent[Button].Foreground}"
                              Stretch="Uniform" />
                    </Viewbox>
                    <Button.Styles>
                        <Style Selector="Button:pointerover">
                            <Setter Property="Background" Value="#40FF0000"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Style>
                        <Style Selector="Button:pressed">
                            <Setter Property="Background" Value="#60FF0000"/>
                        </Style>
                    </Button.Styles>
                </Button>
            </Grid>

            <!-- Main content area -->
            <Border Grid.Row="1" Margin="12,0,12,0">
                <views:UpdateNotificationView DataContext="{Binding}" />
            </Border>

        </Grid>
    </Grid>
</Window>
